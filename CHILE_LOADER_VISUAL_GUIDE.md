# ğŸ“± GuÃ­a Visual: Carga de ConfiguraciÃ³n de Chile

## Flujo Visual - Primera Vez (Sin Datos)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Usuario accede a PÃ¡gina de CategorÃ­as               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Sistema carga categorÃ­as del store                     â”‚
â”‚   Resultado: [] (vacÃ­o)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âœ… Mostrar Modal: "Cargar ConfiguraciÃ³n de Chile"      â”‚
â”‚                                                          â”‚
â”‚   ğŸ“ Cargar CategorÃ­as de Chile                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚                                                          â”‚
â”‚   No se encontraron categorÃ­as.                         â”‚
â”‚   Â¿Deseas cargar las categorÃ­as del sistema            â”‚
â”‚   educativo chileno?                                    â”‚
â”‚                                                          â”‚
â”‚   ğŸ“š Se cargarÃ¡n:                                        â”‚
â”‚      â€¢ 2 CategorÃ­as                                      â”‚
â”‚      â€¢ 12 Niveles                                        â”‚
â”‚                                                          â”‚
â”‚   [Cancelar]    [âœ… Cargar ConfiguraciÃ³n]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“                              â†“
 RECHAZA                         ACEPTA
     â†“                              â†“
  Modal              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  Se cierra          â”‚  Cargando... [spinner]       â”‚
     â†“               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Tabla vacÃ­a                       â†“
 (opciÃ³n de         Fetch JSON files:
  crear manual)     â€¢ /data/level-categories.json
                    â€¢ /data/education-levels.json
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Agregar al store:            â”‚
                    â”‚ â€¢ cat-basic-001              â”‚
                    â”‚ â€¢ cat-media-002              â”‚
                    â”‚ â€¢ level-1b-001 a 001         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  âœ… Ã‰xito!                   â”‚
                    â”‚  CategorÃ­as: 2               â”‚
                    â”‚  Niveles: 12                 â”‚
                    â”‚  Cerrando en 2 segundos...   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    Modal se cierra auto
                              â†“
                    PÃ¡gina recarga
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Tabla con datos cargados:    â”‚
                    â”‚ â”Œâ”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚#â”‚  CÃ³digo  â”‚  Nombre    â”‚  â”‚
                    â”‚ â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
                    â”‚ â”‚1â”‚CAT_BASIC â”‚EnseÃ±anza..â”‚  â”‚
                    â”‚ â”‚2â”‚CAT_MEDIA â”‚EnseÃ±anza..â”‚  â”‚
                    â”‚ â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flujo Visual - Segundo Acceso (Con Datos)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Usuario accede a PÃ¡gina de CategorÃ­as               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Sistema carga categorÃ­as del store                     â”‚
â”‚   Resultado: [cat-basic-001, cat-media-002]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   âŒ NO mostrar modal (hay datos)                        â”‚
â”‚   âœ… Mostrar tabla normalmente                           â”‚
â”‚                                                          â”‚
â”‚   â”Œâ”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚#â”‚ CÃ³digo   â”‚ Nombre         â”‚ Nivelesâ”‚             â”‚
â”‚   â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚   â”‚1â”‚CAT_BASIC â”‚EnseÃ±anza BÃ¡s.  â”‚   8    â”‚             â”‚
â”‚   â”‚2â”‚CAT_MEDIA â”‚EnseÃ±anza Media â”‚   4    â”‚             â”‚
â”‚   â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Estructura de Datos

### En LocalStorage
```javascript
// ANTES
categories: []
levels: []

// DESPUÃ‰S
categories: [
  {
    id: "cat-basic-001",
    code: "CAT_BASIC",
    name: "EnseÃ±anza BÃ¡sica",
    description: "EducaciÃ³n bÃ¡sica (1Â° a 8Â° aÃ±o)",
    categoryId: null,
    isActive: true,
    createdAt: "2025-01-01T00:00:00Z",
    createdBy: "SYSTEM",
    updatedAt: "2025-01-01T00:00:00Z",
    updatedBy: "SYSTEM",
    deletedAt: null,
    deletedBy: null
  },
  // ... mÃ¡s categorÃ­as
]

levels: [
  {
    id: "level-1b-001",
    code: "LEVEL_1B",
    name: "1Â° BÃ¡sico",
    description: "Primer aÃ±o de educaciÃ³n bÃ¡sica",
    categoryId: "cat-basic-001",
    isActive: true,
    // ... mÃ¡s campos
  },
  // ... 11 niveles mÃ¡s
]
```

## Ãrbol de Componentes

```
App
â”œâ”€â”€ /evaluation-management/categories/page.tsx
â”‚   â”œâ”€â”€ MasterDataTable
â”‚   â”‚   â””â”€â”€ Tabla de categorÃ­as
â”‚   â””â”€â”€ ChileDataLoaderModal â­ NUEVO
â”‚       â””â”€â”€ Modal de carga
â”‚
â”œâ”€â”€ /evaluation-management/levels/page.tsx
â”‚   â”œâ”€â”€ MasterDataTable
â”‚   â”‚   â””â”€â”€ Tabla de niveles
â”‚   â””â”€â”€ ChileDataLoaderModal â­ NUEVO
â”‚       â””â”€â”€ Modal de carga
â”‚
â””â”€â”€ /hooks/useChileDataLoader.ts â­ NUEVO
    â”œâ”€â”€ loadChileConfiguration()
    â”œâ”€â”€ loadCategoriesFromJSON()
    â””â”€â”€ loadLevelsFromJSON()
```

## Estados del Modal

```
ESTADO 1: INICIAL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Cargar CategorÃ­as de Chile   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ No se encontraron categorÃ­as... â”‚
â”‚                                 â”‚
â”‚ ğŸ“š Se cargarÃ¡n:                 â”‚
â”‚    â€¢ 2 CategorÃ­as               â”‚
â”‚    â€¢ 12 Niveles                 â”‚
â”‚                                 â”‚
â”‚ âš ï¸ Nota: No se duplicarÃ¡n...    â”‚
â”‚                                 â”‚
â”‚ [Cancelar] [âœ… Cargar]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ESTADO 2: CARGANDO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Cargar CategorÃ­as de Chile   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [spinner] Cargando...            â”‚
â”‚                                 â”‚
â”‚ (backdrop estÃ¡tico, botones     â”‚
â”‚  deshabilitados)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ESTADO 3: Ã‰XITO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Cargar CategorÃ­as de Chile   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… ConfiguraciÃ³n cargada:       â”‚
â”‚                                 â”‚
â”‚ âœ… CategorÃ­as: 2                â”‚
â”‚ âœ… Niveles: 12                  â”‚
â”‚                                 â”‚
â”‚ Cerrando en 2 segundos...       â”‚
â”‚                                 â”‚
â”‚ [Cerrar]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(Auto-cierre â†’ PÃ¡gina recarga)

ESTADO 4: ERROR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Cargar CategorÃ­as de Chile   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ Error al cargar:             â”‚
â”‚    "No se pudo cargar..."       â”‚
â”‚                                 â”‚
â”‚ [Reintentar]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## IntegraciÃ³n con Datos Existentes

```
ChileDataLoaderModal
        â†“
useChileDataLoader Hook
        â†“
loadChileConfiguration()
        â”œâ”€â”€ loadCategoriesFromJSON()
        â”‚   â”œâ”€â”€ fetch('/data/level-categories.json')
        â”‚   â””â”€â”€ return categoriesArray
        â”‚
        â””â”€â”€ loadLevelsFromJSON()
            â”œâ”€â”€ fetch('/data/education-levels.json')
            â””â”€â”€ return levelsArray
        â†“
    Para cada categorÃ­a:
    â”œâ”€â”€ levelStore.createCategory({...})
    
    Para cada nivel:
    â”œâ”€â”€ levelStore.createLevel({...})
        â†“
    âœ… Ã‰xito: Datos en Store + LocalStorage
```

## Casos de Uso

### Caso 1: Primera Vez (Nuevo Usuario)
```
Usuario â†’ Accede a CategorÃ­as
       â†’ Ve modal automÃ¡ticamente
       â†’ Clica en "Cargar ConfiguraciÃ³n"
       â†’ Se cargan 2 categorÃ­as
       â†’ Ve tabla actualizada
       â†’ DespuÃ©s puede crear sus propias categorÃ­as
```

### Caso 2: Usuario Existente
```
Usuario â†’ Accede a CategorÃ­as
       â†’ Ya hay datos
       â†’ NO ve modal
       â†’ Ve tabla con sus datos
       â†’ Puede editar, crear mÃ¡s, eliminar, etc.
```

### Caso 3: Carga Manual
```
Usuario â†’ Cierra modal sin cargar
       â†’ Ve tabla vacÃ­a
       â†’ Clica en "Nueva CategorÃ­a"
       â†’ Crea categorÃ­a manualmente
       â†’ O abre modal nuevamente
```

---

**Nota**: Este flujo es el mismo para la pÃ¡gina de Niveles
